<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradingView</title>
    <style>
        *{
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        body{
            height: 100vh;
            overflow: hidden;
        }
        .tradingview-widget-container{
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
  <div class="tradingview-widget-container__widget"></div>
  <script>
    console.log(decodeURIComponent((new URLSearchParams(window.location.search)).get("index")));
    let script = document.createElement("script");
    script.setAttribute("async", "true")
    script.type = "text/javascript"
    script.textContent = `{
  "lineWidth": 2,
  "lineType": 0,
  "chartType": "area",
  "fontColor": "rgb(106, 109, 120)",
  "gridLineColor": "rgba(242, 242, 242, 0.06)",
  "volumeUpColor": "rgba(34, 171, 148, 0.5)",
  "volumeDownColor": "rgba(247, 82, 95, 0.5)",
  "backgroundColor": "#0F0F0F",
  "widgetFontColor": "#DBDBDB",
  "upColor": "#22ab94",
  "downColor": "#f7525f",
  "borderUpColor": "#22ab94",
  "borderDownColor": "#f7525f",
  "wickUpColor": "#22ab94",
  "wickDownColor": "#f7525f",
  "colorTheme": "dark",
  "isTransparent": false,
  "locale": "en",
  "chartOnly": false,
  "scalePosition": "right",
  "scaleMode": "Normal",
  "fontFamily": "-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif",
  "valuesTracking": "1",
  "changeMode": "price-and-percent",
  "symbols": [
    [
      "Stock",
      "${decodeURIComponent((new URLSearchParams(window.location.search)).get("index")).replace(/\n/g, "").replace(/ /g, "").trim()}"
    ]
  ],
  "dateRanges": [
    "1d|1",
    "1m|30",
    "3m|60",
    "12m|1D",
    "60m|1W",
    "all|1M"
  ],
  "fontSize": "10",
  "headerFontSize": "medium",
  "autosize": true,
  "width": "100%",
  "height": "100%",
  "noTimeScale": false,
  "hideDateRanges": false,
  "hideMarketStatus": false,
  "hideSymbolLogo": false
}`
script.src = `https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js`;
document.querySelector(".tradingview-widget-container").appendChild(script)
  </script>
</div>
<!-- TradingView Widget END -->
</body>
</html>